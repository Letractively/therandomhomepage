<?xml version="1.0" encoding="UTF-8" ?>
<Module>
    <ModulePrefs title="Google News Bar" title_url="http://www.TheRandomHomepage.com" description="Google Newsbar based on Google AJAX search API."                  author="Siddique Hameed" author_email="siddii+randomhomepage@gmail.com" thumbnail="http://news.google.com/images/news.gif"
                 screenshot="http://www.therandomhomepage.com/google/gadgets/randomwiki/screenshot.png">
    </ModulePrefs>
    <UserPref name="searchTerms" display_name="Search Terms" datatype="list" default_value="World|US|Business|Science and Technology" required="true"/>
	<UserPref name="cycleMode" display_name="Cycle Mode" default_value="random" datatype="enum">
    <EnumValue value="linear"/>
	<EnumValue value="random"/>
    </UserPref>
    <Content type="html"><![CDATA[
  <div id="newsBar-bar" style="width:100%;height:100%;">
    <span style="color:#676767;font-size:11px;margin:10px;padding:4px;">Loading...</span>
  </div>
  <script src="http://www.google.com/uds/api?file=uds.js&v=1.0&source=uds-nbw&key=ABQIAAAAz7gqGHuMepB_MC7jq_kQDhSwJKRWoKVleCV2sMfWVbuGh5-GoxSIsQrfSBeMogSCyBzH3o6iEJaDxA"
    type="text/javascript"></script>
  <style type="text/css">
    @import url("http://www.google.com/uds/css/gsearch.css");
  </style>

  <!-- News Bar Code and Stylesheet -->
  <script type="text/javascript">
    window._uds_nbw_donotrepair = true;
  </script>
  <script src="http://www.google.com/uds/solutions/newsbar/gsnewsbar.js?mode=new"
    type="text/javascript"></script>
  <style type="text/css">
    @import url("http://www.google.com/uds/solutions/newsbar/gsnewsbar.css");
  </style>

  <script type="text/javascript">
    var prefs = new _IG_Prefs(__MODULE_ID__);
    function LoadNewsBar() {
      var newsBar;
	   var search_terms = prefs.getArray("searchTerms");

	   var cycleModePref = GSnewsBar.CYCLE_MODE_RANDOM;
	   if (prefs.getString("cycleMode") == "linear")
	   {
			cycleModePref = GSnewsBar.CYCLE_MODE_LINEAR;
	   }
      var options = {
        largeResultSet : false,
        title : "In the news",
		resultStyle : GSnewsBar.RESULT_STYLE_EXPANDED,
        horizontal : true,
		cycleMode: cycleModePref,
		linkTarget : GSearch.LINK_TARGET_BLANK,
		currentResult : document.getElementById("newsBar-bar"),
        autoExecuteList : {
		  executeList : search_terms
        }
      }

      newsBar = new GSnewsBar(document.getElementById("newsBar-bar"), options);
    }
    GSearch.setOnLoadCallback(LoadNewsBar);
  </script>
  <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-941159-1";
urchinTracker();
</script>
 ]]>
</Content>
</Module>